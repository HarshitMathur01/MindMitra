# ══════════════════════════════════════════════════════════════
# MindMitra Backend Requirements - OPTIMIZED FOR RAILWAY
# CPU-only builds, production-ready
# ══════════════════════════════════════════════════════════════

# ──────────────────────────────────────────────────────────────
# Core Web Framework
# ──────────────────────────────────────────────────────────────
fastapi>=0.115,<1.0
uvicorn[standard]>=0.30,<1.0
starlette>=0.37,<1.0
pydantic>=2.7,<3.0
python-multipart>=0.0.9

# ──────────────────────────────────────────────────────────────
# AI / LLM SDKs
# ──────────────────────────────────────────────────────────────
groq>=0.11,<1.0
zhipuai>=2.1.5,<3.0
google-generativeai>=0.8,<1.0

# LangChain (minimal - no langgraph)
langchain>=0.3,<0.4
langchain-core>=0.3,<0.4
langchain-google-genai>=2.0,<3.0

# ──────────────────────────────────────────────────────────────
# Google Cloud Services
# ──────────────────────────────────────────────────────────────
google-cloud-texttospeech>=2.16,<3.0
google-api-python-client>=2.120,<3.0
google-auth>=2.30,<3.0
google-auth-httplib2>=0.2,<1.0

# ──────────────────────────────────────────────────────────────
# Database & Storage
# ──────────────────────────────────────────────────────────────
supabase>=2.8,<3.0
postgrest>=0.16,<1.0

# ──────────────────────────────────────────────────────────────
# Embeddings & RAG - CPU-ONLY TORCH (critical for size!)
# ──────────────────────────────────────────────────────────────
sentence-transformers>=3.0,<4.0
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.5.1+cpu
transformers>=4.40,<5.0
safetensors>=0.4,<1.0
huggingface-hub>=0.20,<1.0

# ──────────────────────────────────────────────────────────────
# Config & Environment
# ──────────────────────────────────────────────────────────────
python-dotenv>=1.0,<2.0
pyyaml>=6.0,<7.0

# ──────────────────────────────────────────────────────────────
# Auth & Security
# ──────────────────────────────────────────────────────────────
pyjwt>=2.8,<3.0
cryptography>=41,<44

# ──────────────────────────────────────────────────────────────
# HTTP Client & Utilities
# ──────────────────────────────────────────────────────────────
httpx>=0.27,<1.0
requests>=2.31,<3.0
tenacity>=8.2,<10.0
typing-extensions>=4.10,<5.0
annotated-types>=0.6,<1.0
numpy>=1.26,<2.0
regex>=2024.7,<2025.0

# ──────────────────────────────────────────────────────────────
# Text-to-Speech (gTTS as fallback)
# ──────────────────────────────────────────────────────────────
gtts>=2.5,<3.0